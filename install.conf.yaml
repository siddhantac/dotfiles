- defaults:
    link:
      relink: true
      create: true

- clean: ['~']

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  -
      command: ./macos/setup-homebrew.sh
      description: Install Homebrew and packages
      stdout: true

- create:
    - ~/downloads
    - ~/.vim/undodir
    - ~/.config

- link:
    ~/.tmux.conf: tmux.conf
    ~/.tmux/plugins/tpm:
      path: tmux/plugins/tpm
    ~/.config/nvim: nvim
    ~/.config/kitty: kitty
    ~/.vim/UltiSnips: UltiSnips
    /$HOME/workspace/bin/ide: scripts/ide
    ~/.zshrc:
      path: zshrc
      force: true

- shell:
  - [~/.tmux/plugins/tpm/scripts/install_plugins.sh >/dev/null 2>&1, Installing tmux plugins]
  - ["nvim --headless +PlugUpdate +PlugClean! +qa", Installing and updating plugins]
  - [npm install -g git-split-diffs && git config --global core.pager "git-split-diffs --color | less -RFX"]
  - [export PATH=$PATH:$HOME/workspace/bin]
  - [curl -L https://sw.kovidgoyal.net/kitty/installer.sh | sh /dev/stdin]

- shell:
  -
      command: ./lvim/install.sh
      description: Install lunarvim
      stdout: true
